---
page_title: "netbox_config_context Resource - terraform-provider-netbox"
subcategory: ""
description: |-
  Manages a config context in Netbox. Config contexts allow you to define arbitrary JSON data that is automatically merged and applied to devices and virtual machines based on assignment criteria.
---

# netbox_config_context (Resource)

Manages a config context in Netbox. Config contexts allow you to define arbitrary JSON data that is automatically merged and applied to devices and virtual machines based on assignment criteria.

## Example Usage

```terraform
# Example: Basic config context
# Note: netbox_config_context resource only supports tags, not custom_fields
resource "netbox_config_context" "basic" {
  name = "basic-config"
  data = jsonencode({
    dns_servers = ["8.8.8.8", "8.8.4.4"]
    ntp_servers = ["time.google.com"]
  })
}

# Example: Config context with assignment criteria
resource "netbox_config_context" "site_specific" {
  name        = "dc1-config"
  description = "Configuration for DC1 site"
  weight      = 1500
  is_active   = true
  data = jsonencode({
    syslog_server  = "10.1.0.10"
    snmp_community = "public"
    timezone       = "America/New_York"
  })
  sites = [netbox_site.dc1.id]
}

# Example: Config context for specific device roles
resource "netbox_config_context" "router_config" {
  name        = "router-defaults"
  description = "Default configuration for all routers"
  weight      = 1000
  data = jsonencode({
    routing = {
      ospf = {
        enabled = true
        area    = "0.0.0.0"
      }
      bgp = {
        enabled = false
      }
    }
    interfaces = {
      mtu = 9000
    }
  })
  roles = [netbox_device_role.router.id]
}

# Example: Config context with multiple assignment criteria
resource "netbox_config_context" "production_servers" {
  name        = "production-server-config"
  description = "Configuration for all production servers"
  weight      = 2000
  data = jsonencode({
    monitoring = {
      enabled     = true
      interval    = 60
      alert_email = "ops@example.com"
    }
    backup = {
      enabled   = true
      schedule  = "0 2 * * *"
      retention = 30
    }
  })
  sites         = [netbox_site.dc1.id, netbox_site.dc2.id]
  roles         = [netbox_device_role.server.id]
  tenant_groups = [netbox_tenant_group.production.id]
}

# Example: Config context with tag-based assignment
resource "netbox_config_context" "high_security" {
  name        = "high-security-config"
  description = "Security hardening configuration for tagged devices"
  weight      = 3000
  data = jsonencode({
    security = {
      firewall_enabled = true
      ssh_port         = 2222
      password_policy  = "complex"
      audit_logging    = true
    }
  })
  tags = ["security-hardened", "pci-compliant"]
}

import {
  to = netbox_config_context.basic
  id = "123"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data` (String) JSON-formatted configuration data. This data will be merged into the configuration context for matching devices/VMs.
- `name` (String) Name of the config context.

### Optional

- `cluster_groups` (Set of Number) Set of cluster group IDs to assign this config context to.
- `cluster_types` (Set of Number) Set of cluster type IDs to assign this config context to.
- `clusters` (Set of Number) Set of cluster IDs to assign this config context to.
- `description` (String) Description of the config context.
- `device_types` (Set of Number) Set of device type IDs to assign this config context to.
- `is_active` (Boolean) Whether this config context is active. Defaults to `true`.
- `locations` (Set of Number) Set of location IDs to assign this config context to.
- `platforms` (Set of Number) Set of platform IDs to assign this config context to.
- `regions` (Set of Number) Set of region IDs to assign this config context to.
- `roles` (Set of Number) Set of device role IDs to assign this config context to.
- `site_groups` (Set of Number) Set of site group IDs to assign this config context to.
- `sites` (Set of Number) Set of site IDs to assign this config context to.
- `tags` (Set of String) Set of tag slugs to assign this config context to. Devices/VMs with any of these tags will receive this config context.
- `tenant_groups` (Set of Number) Set of tenant group IDs to assign this config context to.
- `tenants` (Set of Number) Set of tenant IDs to assign this config context to.
- `weight` (Number) Weight determines the order in which config contexts are merged. Contexts with a higher weight override those with a lower weight. Defaults to `1000`.

### Read-Only

- `id` (String) Unique identifier for the config context (assigned by Netbox).

## Import

Import is supported using the following syntax:

```shell
# Config contexts can be imported by ID
terraform import netbox_config_context.basic 123
```
